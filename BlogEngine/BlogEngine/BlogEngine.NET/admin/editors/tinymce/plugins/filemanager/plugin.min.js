tinymce.PluginManager.add("filemanager", function (editor, url) {
    editor.addButton("filemanager", {
        title: "File manager",
        onclick: function () {
            editor.windowManager.open({
                title: "File manager",
                url: SiteVars.RelativeWebRoot + "admin/app/editor/filemanager.cshtml",
                width: window.innerWidth * 0.9,
                height: window.innerHeight * 0.8
            }, {
                ed: editor // pointer to access editor from cshtml
            })
        }
    })
});